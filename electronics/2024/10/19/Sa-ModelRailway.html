<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <title>Model Railway - Dennis Salzner</title>
  
  
  <!-- search engine -->
  <meta name="description" content="Model railways are quite popular in the region I live and I have a faint memory of my grandfather setting one up for me as a young child. Eventually I had to get one, so I bough..."/>
  <link rel="canonical" href="https://www.dennissalzner.de/electronics/2024/10/19/Sa-ModelRailway.html">
  <meta property="og:locale" content="en_EN" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Model Railway - Dennis Salzner" />
  <meta property="og:description" content="Model railways are quite popular in the region I live and I have a faint memory of my grandfather setting one up for me as a young child. Eventually I had to..." />
  <meta property="og:url" content="https://www.dennissalzner.de/electronics/2024/10/19/Sa-ModelRailway.html" />
  <meta property="og:site_name" content="Dennis Salzner" />
  <meta property="article:section" content="Electronics" />
  <meta property="article:published_time" content="2024-10-19 00:00:00 +0200" />
  <meta property="article:modified_time" content="2024-10-19 00:00:00 +0200" />
  <meta property="og:updated_time" content="2024-10-19 00:00:00 +0200" />
  <meta property="og:image" content="" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:description" content="Model railways are quite popular in the region I live and I have a faint memory of my grandfather setting one up for me as a young child. Eventually I had to get one, so I bough..." />
  <meta name="twitter:title" content="Model Railway - Dennis Salzner" />
  <meta name="twitter:image" content="" />

  <!-- syntax highlighting in code snippets -->
  <link rel="stylesheet" href="https://www.dennissalzner.de/css/main.css">
  <link rel="stylesheet" href="https://www.dennissalzner.de/css/style.css">
  
  <!-- jquery (for vimeo video embedding)-->
  <script src="https://www.dennissalzner.de/js/jquery.min.js"></script>
  
  <!-- photos -->
  <script src="https://www.dennissalzner.de/js/lightbox.js"></script>
  <link href="https://www.dennissalzner.de/css/lightbox.css" rel="stylesheet">
  
  <!-- diagramms -->
  <script src="https://www.dennissalzner.de/js/mermaid.min.js"></script>


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P2BRPNLLXQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-P2BRPNLLXQ');
</script>


</head>

  <body>
    <div style="margin: 32px;">
    

<h1>Dennis Salzner - Model Railway</h1>
<p align="right" style="font-size:80%"><a href="https://www.dennissalzner.de/"><< Back Home</a></p>

<div class="page-title">Model Railway</div>
<div class="page-subtitle"></div>
<div class="page-seperator"></div>

<div class="post-content" itemprop="articleBody">
    <p style="font-size: 60%;" align="right">What</p>

<p>Model railways are quite popular in the region I live and I have a faint memory of my grandfather setting one up for me as a young child. Eventually I had to get one, so I bought an old used Märklin model railway train with some tracks and set them up.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/model-railway.gif" width="20%" />

<p style="font-size: 60%;" align="right">Contents</p>

<h2 id="contents">Contents</h2>

<nav>
  <h4>Table of Contents</h4>
<ul id="markdown-toc">
  <li><a href="#contents" id="markdown-toc-contents">Contents</a></li>
  <li><a href="#history" id="markdown-toc-history">History</a></li>
  <li><a href="#background" id="markdown-toc-background">Background</a>    <ul>
      <li><a href="#train-and-track-sizes" id="markdown-toc-train-and-track-sizes">Train and track sizes</a></li>
      <li><a href="#track-electronics-and-wiring" id="markdown-toc-track-electronics-and-wiring">Track electronics and wiring</a></li>
      <li><a href="#running-märklin-trains-on-dc-instead-of-ac" id="markdown-toc-running-märklin-trains-on-dc-instead-of-ac">Running Märklin Trains on DC instead of AC</a></li>
      <li><a href="#digital-trains" id="markdown-toc-digital-trains">Digital Trains</a></li>
      <li><a href="#multiple-trains-on-old-analog-model-train-systems" id="markdown-toc-multiple-trains-on-old-analog-model-train-systems">Multiple trains on old analog model train systems</a></li>
      <li><a href="#track-types" id="markdown-toc-track-types">Track types</a></li>
      <li><a href="#track-plan" id="markdown-toc-track-plan">Track Plan</a></li>
      <li><a href="#software-simulators" id="markdown-toc-software-simulators">Software Simulators</a></li>
      <li><a href="#choice-of-train" id="markdown-toc-choice-of-train">Choice of Train</a></li>
    </ul>
  </li>
  <li><a href="#purchase" id="markdown-toc-purchase">Purchase</a></li>
  <li><a href="#setup" id="markdown-toc-setup">Setup</a>    <ul>
      <li><a href="#making-contact" id="markdown-toc-making-contact">Making Contact</a></li>
    </ul>
  </li>
  <li><a href="#control--power-supply" id="markdown-toc-control--power-supply">Control &amp; Power Supply</a>    <ul>
      <li><a href="#schematic" id="markdown-toc-schematic">Schematic</a></li>
      <li><a href="#additional-features" id="markdown-toc-additional-features">Additional Features</a></li>
      <li><a href="#software" id="markdown-toc-software">Software</a>        <ul>
          <li><a href="#verify-the-chip-still-works" id="markdown-toc-verify-the-chip-still-works">Verify the chip still works</a></li>
          <li><a href="#setup-pwm-and-verify" id="markdown-toc-setup-pwm-and-verify">Setup PWM and verify</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
</ul>

</nav>

<p style="font-size: 60%;" align="right">When</p>

<p>After seeing another such model railway at a guided tour I started watching YouTube videos of people setting them up and designing the surroundings - painting trees, buildings, pedestrians all at 1:87-scale. Some of the videos are almost hypnotic to watch.</p>

<p>So I found a train and some tracks on eBay and ordered them.</p>

<p style="font-size: 60%;" align="right">Background</p>

<h2 id="history">History</h2>

<p>The Märklin-brand of model railways became quite popular after the first trains were released in 1891 [1].</p>

<h2 id="background">Background</h2>

<p>Since I was buying a used model railway and didn’t inherit it or similar, I had to make choices on which train from which era, which tracks, power supply and so forth.</p>

<h3 id="train-and-track-sizes">Train and track sizes</h3>

<p>When searching online it quickly becomes clear that the H0 track spacing for 1:87-scale trains has become de facto standard. There are smaller and larger model train systems, but H0 is by far the most common. So settling for H0 seems reasonable.</p>

<h3 id="track-electronics-and-wiring">Track electronics and wiring</h3>

<p>It’s interesting that the Lego train set I had as a kid has roughly 9V+ and - applied to the left and right track.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/lego-track.png" width="20%" />

<p>This configuration leads to forbidden track layouts due to electical shorting. They had to mention this in the manual.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/lego-track-1.png" width="15%" />

<img src="../../../../images/2024-10-19-Sa-ModelRailway/lego-track-2.png" width="15%" />

<p>Märklin, or the “Ludwig Lutz” toy company they had acquired also in 1891 [1] designed their tracks more cleverly: the outer tracks are all negative voltage. In the center there is an additional wire, that the sliding contact of the train connects to, for positive voltage.</p>

<p>The earily trains run on 9 to 16 V alternating current (AC), as can be seen on the power supply.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/maerklin-power-supply.png" width="20%" />

<p>In order to switch direction the early trains would use a pulse at 24 V which is why the power supply supports also pulses at 24 V.</p>

<h3 id="running-märklin-trains-on-dc-instead-of-ac">Running Märklin Trains on DC instead of AC</h3>

<p>Reading online [4] I learned that the trains work just fine on direct current (DC) aswell.</p>

<p><strong><em>Speculation:</em></strong> The reason for this is probably, because the trains are designed to handle brief connection interruptions. In order to do this they must contain some form of energy storage - likely a large capcitor. Since the capacitor requires DC, there have to be diodes in place. This results in the trains having a bridge rectifier circuit inside.
If we apply AC it the current travels through either of the current depending on phase. If we apply DC and there is nothing to rectify, the current passes right through.</p>

<p>Either way this is a significant advantage for me as it greatily simplifies an own power supply build. I know I can easily design a micro-controller circuit board to control these old AC trains.</p>

<h3 id="digital-trains">Digital Trains</h3>

<p>More modern Märklin train sets now employ digital decoders in the train. This allows individual control of the trains, soundeffects and lighting control.</p>

<p>I thought about going with a modern train set instead, but somehow I like the old style trains. The longer history means there are also more different trains to choose from and cheaper prices on online auction houses.</p>

<p>The digital trains really play out their advantage on large setups with many trains and railway switch points. Wiring is alot more clean and simple with addressable components on a common electrical bus, but wiring effort has never kept me away from a project.</p>

<h3 id="multiple-trains-on-old-analog-model-train-systems">Multiple trains on old analog model train systems</h3>

<p>I could separate the tracks into sections and control them with my own circuitry. Or put modify the trains with small bluetooth disconnect switches, as a hack to control individual trains.</p>

<p>Normally, on a small setup, there is no reason to have more than 2 trains and to not run them at the same time. I currently don’t have the space or budget or time for a large set up.</p>

<h3 id="track-types">Track types</h3>

<p>After having established the track sizes, electrical wiring and power supply, I found there are different types of tracks [3]:</p>

<ul>
  <li>B-tracks (1935 to 1956): with continuous middle contact</li>
  <li>M-tracks (1957 to 2001): first with continious contacts, later point contacts. They have a track bed integrated.</li>
  <li>K-tracks (series 21xx 1969-1980, series 22xx since 1980): point contacts and without track bed</li>
</ul>

<p>The K-tracks are considered more “professional”. They come without the track bed are are more suited for adding own gravel and gras for aesthetics.</p>

<p>The point contacts instead of a continuous middle contact make them look more authentic. The trains have a long sliding contact at the bottom that overs 8 point contacts at a given time, so its not a disadvantage.</p>

<p>There are special purpose C-tracks [5], but for now I decided to stick to the most common track types for availablity, compatibility and price.</p>

<h3 id="track-plan">Track Plan</h3>

<p>After settling for the type of tracks, I needed to find out how much I would need to order and how much I can fit on our table.</p>

<p>So I searched online and sure enough there are software tools made by hobbyists where you can draw and plan model railyway setups. One such tool is “3D Modelleisenbahnstudio”.</p>

<p>By measuring the table and then placing tracks of known length as horizontal and vertical axes, I can use the software to draw up a rough track plan that will fit on the table.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/lego-track-1.png" width="15%" />

<img src="../../../../images/2024-10-19-Sa-ModelRailway/lego-track-2.png" width="15%" />

<p>So I know I’ll need 12 curved tracks for a circle and perhaps some straight tracks.</p>

<h3 id="software-simulators">Software Simulators</h3>

<p>The “3D Modelleisenbahnstudio” software was so much fun to use I actually spend some hours drawing up a virtual model train railway in it.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/track-plan.png" width="40%" />

<p>In “3D Modelleisenbahnstudio” you can even configure moving trains and automatic track switchers.</p>

<p>This brings up memories of the “StellwerkSim” (<a href="/technology/2023/10/19/So-RailroadSignalTower.html">see Railroad Signal Tower</a>) where you can simulatre railroad switching systems. The goal is to free critical sections to allow trains to pass through a simulated central station.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/stellwerksim-nuernberg.png" width="40%" />

<p>Somehow model railway have so dedicated hobbyists that unbelievable effort is put into software, the setups, train modifications, painting and so on.</p>

<h3 id="choice-of-train">Choice of Train</h3>

<p>For the early Märklin trains the steam engine models were very popular. Due to their abundance they are also by far the cheapest on online auction houses. These can be had for around 25 Eur, so I settled for one of those as a starting point.</p>

<p>These Märklin model railway systems can get expensive quickly. Some more detailed trains can cost four digits. I’d asume there are even limited-editions for five or more digits prices.</p>

<p>I went with something that works to play around and to see if this hobby is actually for me. None of my friends, family or myself included would likely be able to tell the difference.</p>

<h2 id="purchase">Purchase</h2>

<p>After having decided what components I want to buy I settled for this:</p>

<ul>
  <li>Train: the “Märklin 3000 BR 89 Steam Engine”. I got it used and tested to be fully-functional at an online auction house for 22,95 Eur from a model railway shop. The promise held up. It runs perfectly as we’ll see later.</li>
  <li>Tracks: a set of curved K-tracks. I don’t have straight tracks, but when you think about it, curved tracks are much more useful and I can build a circle for starters. I got 52 used curved K-tracks fpr 34,95 Eur from that same store.</li>
  <li>Power Supply: I will use my DC Lab Power Supply first, then design a micro-controller circuit. Variable speed by Pulse-Width-Modulation (PWM) should be possible. The 24 V burst for switching directions could come from a boost converter.</li>
</ul>

<p>In total this sets me back 57.91 Eur, which is well worth it.</p>

<p style="font-size: 60%;" align="right">How</p>

<h2 id="setup">Setup</h2>

<p>Some days after my order I received the train and tracks.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/package.png" width="20%" />

<h3 id="making-contact">Making Contact</h3>

<p>In order to test the train I connected the lab power supply to a short track section.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/connect-1.jpg" width="20%" />

<p>That didn’t work at first, even though I could clearly measuire the voltage between the sides of the track and the point contacts in the center.</p>

<p>Just turning the train around and connecting touching the contacts of the train directly worked fine, so it had to be a contact issue of the tracks.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/connect-2.gif" width="40%" />

<p>I found some tracks to be working while others would not.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/sandpaper.jpg" width="15%" />

<p>Eventually I realised there was rust, perhaps paint and all sorts of gunk on some of the point contacts. The solution here was to just sand them down with a really fine 240 grain sandpaper.</p>

<p>After the sandpaper treatment almost all of the tracks work fine - even though they are probably 40 to 55 years old.</p>

<p>Eventually we set up a track circle that the train travels on without any problems.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/track-circle.jpg" width="45%" />

<p>As you can see it barely fits on our dining table.</p>

<h2 id="control--power-supply">Control &amp; Power Supply</h2>

<p>In order to power the model railway more conveniently without having to use the lab power supply, I had to come up with some sort of electircal circuit. Ideally it would control direction and speed from a microcontroller for maximum flexiblity. We can then pre-program behaviours, control via USB serial connection from a computer or add buttons for human interaction.</p>

<h3 id="schematic">Schematic</h3>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/schematics.png" width="45%" />

<p>The easiest solution with parts I have at home that I could come up with is to use pulse-width modulation (PWM) for speed control from a microcontroller. For changing direction I need 24V. For this I’ll use a step-up boost converter. 
A double relay switches between the driving mode and direction change in order to put that brief 24V pulse for direction changing onto the track.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/relay1.png" width="10%" />

<img src="../../../../images/2024-10-19-Sa-ModelRailway/relay2.png" width="10%" />

<p>The schematic of this actually looks much more complicated, than it is. It is actually much simpler than normal motor controls with an H-Bridge that would have to swap the polarity of the wires. The ULN2003 darlington transistor array is used to drive the high-power circuits from the low-power microcontroller ports. The Arduino Nano microcontroller board can handle 12V with its built in voltage regulator, so we don’t need an additional voltage regulator.</p>

<p>Note that the ULN2003 is just barely enough to drive the train. Each channel is rated for 0.5 A. From my experiemnts with the lab power supply I found that the train takes roughly 0.42 A when starting and around 0.3 A when in motion. If we add a second train we’d exceed the rating. I’ve seen someone else use the L293 motor driver [4], but it is rated for 0.6 A which is also not that much higher. I’ve recently acquired a 43 A (orders of magnutude stronger) BTS7960 motor controler to control power drill motors, but it’s a little more expensive and with that kind of power I could probably accidently damage the motor of the train.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/electronics.jpg" width="40%" />

<p>We can easily test this circuit without the microcontroller, by touching</p>

<ul>
  <li>the red with the blue wire to get 12V on the train tracks</li>
  <li>the red with the white wire to get 24V on the train tracks for the direction change</li>
</ul>

<p>Next we can set up a microcontroller to control the two wires. The blue wire can be connected to the PWM pin to control the speed of the train.</p>

<h3 id="additional-features">Additional Features</h3>

<p>There are some extra features that could be added to this:</p>

<ul>
  <li>Buttons to control the train could be wired to the Arduino</li>
  <li>an I2C LC-Display coule be added</li>
  <li>the remaining 5 pins of the ULN2003 could be used for track switches.</li>
  <li>a “DFPlayer Mini” sound module could be added. It can then be triggered by the Arduino to play railroad sound effects.</li>
</ul>

<h3 id="software">Software</h3>

<p>I ran some tests on the Arduino Nano and then programmed it.</p>

<h4 id="verify-the-chip-still-works">Verify the chip still works</h4>

<p>Since I’m using Arduino Nanos from various sources and knowing I’ve destoryed pins on some of them, it’s usually good to validate they properly work first.</p>

<p>The following code writes to the serial port and pulses the PWM pin every 100ms.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;Arduino.h&gt;</span><span class="cp">
</span>
<span class="cp">#define PWM_PIN 3 // = PD3 = D3 = PCINT19 = INT1 = PWM
</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"[ ] booting</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span> 

  <span class="n">pinMode</span><span class="p">(</span><span class="n">PWM_PIN</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">".</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">PWM_PIN</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">PWM_PIN</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span> 
  <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In order to not have to bother with clicking around in the Arduino IDE and to keep my projects more easily reproducable I flash Arduinos from command-line. For the Arduino Nano I run:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="nb">set</span> <span class="nt">-e</span>

<span class="nv">ACLI</span><span class="o">=</span>&lt;path-to-arduino-ide&gt;/arduino-ide_2.3.2_Linux_64bit/resources/app/lib/backend/resources/arduino-cli

<span class="nb">sudo chmod </span>a+rw /dev/ttyUSB0

<span class="nv">$ACLI</span> compile <span class="nt">--fqbn</span> arduino:avr:nano software/software.ino
<span class="nv">$ACLI</span> upload <span class="nt">--verbose</span> <span class="nt">-p</span> /dev/ttyUSB0 <span class="nt">--fqbn</span> arduino:avr:nano:cpu<span class="o">=</span>atmega328old software/software.ino
<span class="nv">$ACLI</span> monitor <span class="nt">-p</span> /dev/ttyUSB0 <span class="nt">-c</span> <span class="nv">baudrate</span><span class="o">=</span>115200
</code></pre></div></div>

<p>The serial monitor received data as expected.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/arduino1.png" width="20%" />

<p>I attached the oscilloscope</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/arduino2.jpg" width="20%" />

<p>and got a square wave signal</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/arduino3.jpg" width="20%" />

<p>So this one is good enough for this project.</p>

<h4 id="setup-pwm-and-verify">Setup PWM and verify</h4>

<p>To control the speed of the train I’ll be using pulse-width- modulation (PWM), so I checked that it works next.</p>

<p>The idea here is to vary or “pulse” the signal coming from the microcontroller over time. If we want to run the train faster we use wider pulses. If we want it to go slower we use narrower pulses. On the Arduino Nano we can vary the pulse width from 0 to 1023.</p>

<p>To test the PWM signal I’ve changed the code to this:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;Arduino.h&gt;</span><span class="cp">
</span>
<span class="cp">#define PWM_PIN 3 // = PD3 = D3 = PCINT19 = INT1 = PWM
</span>
<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pwmValue</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"[ ] booting</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span> 

  <span class="n">pinMode</span><span class="p">(</span><span class="n">PWM_PIN</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">".</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

  <span class="n">pwmValue</span> <span class="o">+=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">pwmValue</span> <span class="o">&gt;</span> <span class="mi">1023</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">pwmValue</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">PWM_PIN</span><span class="p">,</span> <span class="n">pwmValue</span><span class="p">);</span>

  <span class="n">delay</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>On the oscillocope we can see the varying pulse-widths. They start off narrow and become wider to the right as expected.</p>

<img src="../../../../images/2024-10-19-Sa-ModelRailway/arduino4.jpg" width="20%" />

<p style="font-size: 60%;" align="right">Progress</p>

<h2 id="conclusion">Conclusion</h2>

<p>Driving these trains without the original equipement turned out much easier than I had anticipated.</p>

<p>In my view most of the allure of model railway systems is on the landscaping and having nice 1:87-scale items, realistic looking grad and trees to put in it. For this it is sufficient to have speed control, direction change and one or two trains on the same or separated track sections.</p>

<p>I might follow up with some track switches and then connect them to the transistor array to control them.</p>

<hr />

<pre>
1] https://de.wikipedia.org/wiki/M%C3%A4rklin
2] https://manuall.de/lego-set-4564-trains-guterzug/#close
3] http://www.hpw-modellbahn.de/gleistechnik/gleis02.htm
4] https://do-it-yourself.net/html/piko.html
5] https://modellbahning.de/modellbahn/modellbahn-gleis-geometrie/
</pre>

</div>

<script src="https://utteranc.es/client.js"
  repo="dsalzner/dsalzner.github.io"
	issue-term="Model Railway"
	theme="boxy-light"
	crossorigin="anonymous"
	async>
</script>


</div>



    <div class="footer">
  D.Salzner : www.dennissalzner.de : 2024 <a href="/impr.html">imp</a><a href="/impr.html">ressum</a>
</div>

  </body>
</html>
