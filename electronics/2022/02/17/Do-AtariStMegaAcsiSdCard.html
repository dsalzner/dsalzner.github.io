<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Atari ST and SD cards for storage - Dennis Salzner</title>

  <!-- search engine -->
  <meta name="description" content="Dennis Salzner"/>
  <link rel="canonical" href="/electronics/2022/02/17/Do-AtariStMegaAcsiSdCard.html">
  <meta property="og:locale" content="en_EN" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Atari ST and SD cards for storage - Dennis Salzner" />
  <meta property="og:description" content="There have been some advancements in storage device emulation for vintage Atari computers. We can now build SD-Card adapters that connect to the Atari's ACSI..." />
  <meta property="og:url" content="/electronics/2022/02/17/Do-AtariStMegaAcsiSdCard.html" />
  <meta property="og:site_name" content="Dennis Salzner" />
  <meta property="article:section" content="electronics" />
  <meta property="article:published_time" content="2022-02-17 00:00:00 +0100" />
  <meta property="article:modified_time" content="2022-02-17 00:00:00 +0100" />
  <meta property="og:updated_time" content="2022-02-17 00:00:00 +0100" />
  <meta property="og:image" content="" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:description" content="There have been some advancements in storage device emulation for vintage Atari computers. We can..." />
  <meta name="twitter:title" content="Atari ST and SD cards for storage - Dennis Salzner" />
  <meta name="twitter:image" content="" />

  <!-- syntax highlighting in code snippets -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/style.css">
  
  <!-- jquery (for vimeo video embedding)-->
  <script src="/js/jquery.min.js"></script>
  
  <!-- photos -->
  <script src="/js/lightbox.js"></script>
  <link href="/css/lightbox.css" rel="stylesheet">
  
  <!-- diagramms -->
  <script src="/js/mermaid.min.js"></script>

</head>

  <body>
    <div style="margin: 32px;">
    

<h1>Dennis Salzner - Atari ST Mega ACSI SD-Card</h1>
<p align="right" style="font-size:80%"><a href="/"><< Back Home</a></p>

<div class="page-title">Atari ST and SD cards for storage</div>
<div class="page-subtitle">Storage adapters for the Atari ST Mega</div>
<div class="page-seperator"></div>


<div class="post-content" itemprop="articleBody">
    <div class="row" style=" display: flex;">
  <div style="font-size: 8pt; padding: 15px">
  <a href="../../../../images/2018-03-01-Do-AtariSTMega/001-atari-r.jpg" data-lightbox="image" data-title=""><img src="../../../../images/2018-03-01-Do-AtariSTMega/001-atari-r.jpg" alt="" class="" style="height:192px;" /></a>
   <br />
    Fig 1. Atari ST Mega
  </div>
  <div style="font-size: 8pt; padding: 15px">
   <a href="../../../../images/2022-02-17-Do-AtariStMegaAcsiSdCard/atarist-acsi2stm.jpg" data-lightbox="image" data-title=""><img src="../../../../images/2022-02-17-Do-AtariStMegaAcsiSdCard/atarist-acsi2stm-t.jpg" alt="" class="" style="height:192px;" /></a>
   <br />
    Fig 2. Acsi2Stm - Atari ST ACSI to SD card converter
  </div>
</div>

<p style="font-size: 60%;" align="right">What</p>

<p>There have been some advancements on the storage device emulation for old Atari’s since that <a href="/electronics/2018/03/01/Do-AtariSTMega.html">my last post on the Atari ST</a>.</p>

<p style="font-size: 60%;" align="right">When</p>

<p>It’s been a while since <a href="/electronics/2018/03/01/Do-AtariSTMega.html">my last post on the Atari ST</a>. Back then I was running the Atari ST with a modern LCD monitor through a custom VGA adapter.
The Floppy drive of my Atari is broken, but with some clever wiring we can connect a standard IBM-compatible Floppy drive.</p>

<p>This IBM-compatible Floppy drive was later replaced with the Gotek Floppy emulator. That device has a USB port to which USB-Sticks with Floppy Disk Image files can be connected. Two buttons on the Floppy emulator can be used to cycle through the images.
It’s a nice solution, but Floppy disks - as some of you may remember - are limited to 720kb (single-density) or 1.44mb (double-density).</p>

<p>Emulating an Atari-compatible ACSI (similar to SCSI, but not directly compatible) hard disk is a better method for connecting modern storage media to the Atari ST.</p>

<p style="font-size: 60%;" align="right">Background</p>

<p>So what options are there?</p>

<p><strong>Floppy Emulation</strong></p>

<p>Instead of connceting to the hard drive port of the Atari one can connect to the floppy disk ports.</p>

<p>This solution is considerably easier, but as stated above, floppy disks - also emulated ones - are very limited in size and read/write speeds.</p>

<p><strong>SCSI Adapters</strong></p>

<p>As ACSI is rather similar to SCSI an older solution has always been to use ACSI-to-SCSI adapters and antiquated SCSI hard drives.</p>

<p>This solution requires adapters that are rare and expensive and also functional SCSI drives are not easy to find nowadays.</p>

<p><strong>UltraSatan</strong></p>

<p>A method I’ve mentioned in the last post are using the <a href="http://joo.kie.sk/?page_id=192" target="_blank">UltraSatan adapters</a>. The design is open-source and the schematic reveals how it works.
It consists of a small 8-bit AtMega microcontroller and a CPLD. CPLDs are cheaper precursors of FPGAs. They contain less gates and are cheaper. Xilinx CPLDs can be flashed with the same Xilinx ISE software that is also used for programming FPGAs.
The reason the CPLD was required is due to timing requirements of the ACSI connection. The CPLD can react to a changes in signal quicker, latch the data and let the Atmega retrieve it, when it is ready.</p>

<p>I actually bought the same CPLD - the Atmega’s I have in my workshop - and was planing on hand soldering the design, but never got around to doing so. Due to the two devices, CPLD and Atmega, the design requires programming two devices and it requires a lot of soldering.</p>

<p>This solution requires a lot of components and complicated wiring.</p>

<p><strong>RaSCSI</strong></p>

<p>The UltraSatan was updated to a version using the RaspberryPi. Some other hardware developers were able to emulate an ACSI hard drive directly from the Raspberry Pi without additional hardware. The <a href="https://github.com/akuker/RASCSI/wiki" target="_blank">RaSCSI adapter</a> connects to a Raspberry Pi. It uses a series of octal buffers to do 5V to 3.3V conversion to bring the ACSI port to compatible voltages for the Raspberry Pi. The rest is handled in software.
The charm is that data can be uploaded to the Raspberry Pi via it’s network connections.</p>

<p>This solution requires buffer chips and a Raspberry Pi doing software emulation. It feels wrong to have a significantly more powerful computer simulating a hard drive for a vintage computer. It also requires booting the Raspberry Pi before it can be used. In my experience - it could just be me - Raspberry Pi’s are notoriously unstable.</p>

<p style="font-size: 60%;" align="right">How</p>

<p><strong>Acsi2Stm</strong></p>

<p>My current favorite solution is the <a href="https://github.com/retro16/acsi2stm" target="_blank">Acsi2Stm</a>. It’s a simple adapter for connecting SD-Cards to the ACSI port of Atari STs.
It uses the STM32 microcontrollers (STM32F103C8T6 compatible boards) that are 3.3V and 5V tolerant, so we don’t need the buffer chips. It can be powered by a standard USB charger (but take note of the warning in the readme “Do NOT connect USB data lines on the STM32”). The STM32 can handle the timing so no additional CPLD oder FPGA is required. And as it’s only a microcontroller it’s instantly ready without a boot-up delay.
The wiring effort for soldering this adapter is also minimal. The Atari ST ACSI Plug has 20 pins, so 20 x 2 solder joints plus 6x2 for the SD card are sufficent. With some soldering experience this adapter can be built in an evening.</p>

<p style="font-size: 60%;" align="right">Progress</p>

<p>It took me only approx. 2 hours to solder the entire board (Fig. 1). Now I’ve got  good solution for connecting modern mass storage to the Atari ST.</p>


</div>

<script src="https://utteranc.es/client.js"
  repo="dsalzner/dsalzner.github.io"
	issue-term="Atari ST and SD cards for storage"
	theme="boxy-light"
	crossorigin="anonymous"
	async>
</script>


</div>



    <div class="footer">
  D.Salzner : www.dennissalzner.de : 2021
</div>

  </body>
</html>
